<?php

namespace Tests;

use org\bovigo\vfs\vfsStream;
use PHPUnit\Framework\Assert;
use PHPUnit\Framework\TestCase;
use TrainjunkiesPackages\ScheduleJsonParser\Parser;

class ParserTest extends TestCase
{
    /**
    * @test
    */
    public function it_can_parse_json_schedule_file()
    {
        vfsStream::setup(
            'root',
            null,
            [
                'import-file' => $this->importFileContents()
            ]
        );

        $parser = new Parser(
            new \SplFileObject(vfsStream::url('root/import-file'))
        );

        $parser->parse(
            function($string) {
                $json = json_decode($string,true);

                Assert::assertEquals('JsonTimetableV1', array_key_first($json));
            },
            function($string) {
                $json = json_decode($string,true);

                Assert::assertEquals('TiplocV1', array_key_first($json));
            },
            function($string) {
                $json = json_decode($string,true);

                Assert::assertEquals('JsonAssociationV1', array_key_first($json));
            },
            function($string) {
                $json = json_decode($string,true);

                Assert::assertEquals('JsonScheduleV1', array_key_first($json));
            }
        );
    }

    private function importFileContents()
    {
        return <<<STRING
{"JsonTimetableV1":{"classification":"public","timestamp":1583971522,"owner":"Network Rail","Sender":{"organisation":"Rockshore","application":"NTROD","component":"SCHEDULE"},"Metadata":{"type":"full","sequence":2828}}}
{"TiplocV1":{"transaction_type":"Create","tiploc_code":"ABDAPEN","nalco":"398202","stanox":null,"crs_code":"XPZ","description":null,"tps_description":"PENYWAUN BUS"}}
{"TiplocV1":{"transaction_type":"Create","tiploc_code":"ABDARE","nalco":"398200","stanox":"78100","crs_code":"ABA","description":"ABERDARE","tps_description":"ABERDARE"}}
{"TiplocV1":{"transaction_type":"Create","tiploc_code":"ABDATRE","nalco":"398203","stanox":null,"crs_code":"XTO","description":null,"tps_description":"TRECYNON BUS"}}    
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"L18274","assoc_train_uid":"L19306","assoc_start_date":"2020-05-18T00:00:00Z","location":"NWCSTLE","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"P"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"L47725","assoc_train_uid":"L17243","assoc_start_date":"2020-03-21T00:00:00Z","location":"CLCHSTR","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"N"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05329","assoc_train_uid":"C05055","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05338","assoc_train_uid":"C05067","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05344","assoc_train_uid":"C05077","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05353","assoc_train_uid":"G58615","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05359","assoc_train_uid":"C05766","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05647","assoc_train_uid":"G58601","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05657","assoc_train_uid":"C05087","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"G58666","assoc_train_uid":"C05093","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"G58670","assoc_train_uid":"G58607","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"G58675","assoc_train_uid":"G58600","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"G58682","assoc_train_uid":"C05758","assoc_start_date":"2020-05-17T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05648","assoc_train_uid":"C05060","assoc_start_date":"2020-05-18T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05316","assoc_train_uid":"C05088","assoc_start_date":"2020-05-23T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05321","assoc_train_uid":"C05094","assoc_start_date":"2020-05-23T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05330","assoc_train_uid":"C05056","assoc_start_date":"2020-05-23T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C05354","assoc_train_uid":"C05763","assoc_start_date":"2020-05-23T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"G58669","assoc_train_uid":"G58604","assoc_start_date":"2020-05-23T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"G58674","assoc_train_uid":"G58597","assoc_start_date":"2020-05-23T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"G58677","assoc_train_uid":"C05068","assoc_start_date":"2020-05-23T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"G58679","assoc_train_uid":"C05038","assoc_start_date":"2020-05-23T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"Y57272","assoc_train_uid":"Y20785","assoc_start_date":"2020-03-02T00:00:00Z","location":"MNCRVIC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"C"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"Y33301","assoc_train_uid":"Y33315","assoc_start_date":"2019-12-16T00:00:00Z","location":"NWCSTLE","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"P"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"G60581","assoc_train_uid":"G61971","assoc_start_date":"2019-12-16T00:00:00Z","location":"AYRR","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"P"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C74566","assoc_train_uid":"C76942","assoc_start_date":"2019-12-16T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"P"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C74554","assoc_train_uid":"C74232","assoc_start_date":"2019-12-16T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"P"}}
{"JsonAssociationV1":{"transaction_type":"Delete","main_train_uid":"C74548","assoc_train_uid":"C74716","assoc_start_date":"2019-12-16T00:00:00Z","location":"GLGC","base_location_suffix":null,"diagram_type":"T","CIF_stp_indicator":"P"}}
{"JsonScheduleV1":{"CIF_bank_holiday_running":null,"CIF_stp_indicator":"C","CIF_train_uid":"H48213","schedule_days_runs":"0111100","schedule_end_date":"2020-03-13","schedule_segment":{"signalling_id":null,"CIF_train_category":null,"CIF_headcode":"","CIF_course_indicator":1,"CIF_train_service_code":"        ","CIF_business_sector":"??","CIF_power_type":null,"CIF_timing_load":null,"CIF_speed":null,"CIF_operating_characteristics":null,"CIF_train_class":null,"CIF_sleepers":null,"CIF_reservations":null,"CIF_connection_indicator":null,"CIF_catering_code":null,"CIF_service_branding":""},"schedule_start_date":"2020-03-10","train_status":" ","transaction_type":"Create"}}
{"JsonScheduleV1":{"CIF_bank_holiday_running":null,"CIF_stp_indicator":"P","CIF_train_uid":"C78987","applicable_timetable":"Y","atoc_code":"CH","new_schedule_segment":{"traction_class":"","uic_code":""},"schedule_days_runs":"0000010","schedule_end_date":"2020-05-16","schedule_segment":{"signalling_id":"1T55","CIF_train_category":"XX","CIF_headcode":"6726","CIF_course_indicator":1,"CIF_train_service_code":"25535004","CIF_business_sector":"??","CIF_power_type":"DMU","CIF_timing_load":"E","CIF_speed":"100","CIF_operating_characteristics":null,"CIF_train_class":"S","CIF_sleepers":null,"CIF_reservations":"S","CIF_connection_indicator":null,"CIF_catering_code":null,"CIF_service_branding":"","schedule_location":[{"location_type":"LO","record_identity":"LO","tiploc_code":"MARYLBN","tiploc_instance":null,"departure":"1835","public_departure":"1835","platform":"2","line":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"NEASDSJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1842","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WEMBLSM","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1843","public_arrival":null,"public_departure":null,"platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"NTHOPKJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1846","public_arrival":null,"public_departure":null,"platform":null,"line":"FL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"SRUISLP","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1846H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WRUISLP","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1847H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"GERRDSX","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1851","public_arrival":null,"public_departure":null,"platform":"1","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"HWYCOMB","tiploc_instance":null,"arrival":"1857H","departure":"1858H","pass":null,"public_arrival":"1858","public_departure":"1858","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"SUNDRTN","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1903H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"PRINRIS","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1906","public_arrival":null,"public_departure":null,"platform":"3","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"HADMATP","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1909H","public_arrival":null,"public_departure":null,"platform":"1","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BCSTSJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1918","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BCSTGJN","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1919","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":"1","pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BCSTRTN","tiploc_instance":null,"arrival":"1921","departure":"1922","pass":null,"public_arrival":"1921","public_departure":"1922","platform":"1","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"OXFPWAY","tiploc_instance":null,"arrival":"1929","departure":"1930","pass":null,"public_arrival":"1928","public_departure":"1930","platform":"1","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"OXFDWRJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1932","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"OXFDNNJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1934","public_arrival":null,"public_departure":null,"platform":null,"line":"URL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LT","record_identity":"LT","tiploc_code":"OXFD","tiploc_instance":null,"arrival":"1936","public_arrival":"1937","platform":"1","path":"URL"}]},"schedule_start_date":"2019-12-21","train_status":"P","transaction_type":"Create"}}
{"JsonScheduleV1":{"CIF_bank_holiday_running":null,"CIF_stp_indicator":"O","CIF_train_uid":"G65478","applicable_timetable":"Y","atoc_code":"SR","new_schedule_segment":{"traction_class":"","uic_code":""},"schedule_days_runs":"0000001","schedule_end_date":"2020-03-15","schedule_segment":{"signalling_id":"2P80","CIF_train_category":"OO","CIF_headcode":"","CIF_course_indicator":1,"CIF_train_service_code":"23576003","CIF_business_sector":"??","CIF_power_type":"EMU","CIF_timing_load":"385","CIF_speed":"100","CIF_operating_characteristics":null,"CIF_train_class":"S","CIF_sleepers":null,"CIF_reservations":null,"CIF_connection_indicator":null,"CIF_catering_code":null,"CIF_service_branding":"","schedule_location":[{"location_type":"LO","record_identity":"LO","tiploc_code":"EDINBUR","tiploc_instance":null,"departure":"1606","public_departure":"1606","platform":"14","line":"X","engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"PRNCSTG","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1607","public_arrival":null,"public_departure":null,"platform":null,"line":"DS","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"HAYMRKT","tiploc_instance":null,"arrival":"1609","departure":"1610","pass":null,"public_arrival":"1609","public_departure":"1610","platform":"4","line":"DS","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"HAYMRWJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1611H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":"DS","engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"EDINPRK","tiploc_instance":null,"arrival":"1614","departure":"1614H","pass":null,"public_arrival":"1614","public_departure":"1614","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":"1","performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"NWBG","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1618H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WNCBROJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1621H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LNLTHGW","tiploc_instance":null,"arrival":"1625","departure":"1626","pass":null,"public_arrival":"1625","public_departure":"1626","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"POLMONT","tiploc_instance":null,"arrival":"1630","departure":"1630H","pass":null,"public_arrival":"1630","public_departure":"1630","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"GRNGMTJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1634","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"FALKRKG","tiploc_instance":null,"arrival":"1635","departure":"1636","pass":null,"public_arrival":"1635","public_departure":"1636","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CAMELON","tiploc_instance":null,"arrival":"1638H","departure":"1639","pass":null,"public_arrival":"1639","public_departure":"1639","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CRMRSEJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1639H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":"2","performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LARBERJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1642H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LARBERT","tiploc_instance":null,"arrival":"1643H","departure":"1644H","pass":null,"public_arrival":"1644","public_departure":"1644","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":"2","performance_allowance":null},{"location_type":"LT","record_identity":"LT","tiploc_code":"STIRLNG","tiploc_instance":null,"arrival":"1654","public_arrival":"1654","platform":"7","path":null}]},"schedule_start_date":"2020-03-15","train_status":"P","transaction_type":"Create"}}
{"JsonScheduleV1":{"CIF_bank_holiday_running":null,"CIF_stp_indicator":"N","CIF_train_uid":"Q40446","applicable_timetable":"Y","atoc_code":"SW","new_schedule_segment":{"traction_class":"","uic_code":""},"schedule_days_runs":"0000100","schedule_end_date":"2020-04-10","schedule_segment":{"signalling_id":"2C31","CIF_train_category":"OO","CIF_headcode":"5545","CIF_course_indicator":1,"CIF_train_service_code":"24672104","CIF_business_sector":"??","CIF_power_type":"EMU","CIF_timing_load":null,"CIF_speed":"100","CIF_operating_characteristics":null,"CIF_train_class":"S","CIF_sleepers":null,"CIF_reservations":"S","CIF_connection_indicator":null,"CIF_catering_code":null,"CIF_service_branding":"","schedule_location":[{"location_type":"LO","record_identity":"LO","tiploc_code":"WATRLMN","tiploc_instance":null,"departure":"1150","public_departure":"1150","platform":"24","line":"WFL","engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"NINELMJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1154","public_arrival":null,"public_departure":null,"platform":null,"line":"WL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"QTRDBAT","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1155","public_arrival":null,"public_departure":null,"platform":"3","line":"WSL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CLPHMJW","tiploc_instance":null,"arrival":"1157","departure":"1158","pass":null,"public_arrival":"1157","public_departure":"1158","platform":"6","line":"SL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BARNES","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1202H","public_arrival":null,"public_departure":null,"platform":"4","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"RICHMND","tiploc_instance":null,"arrival":"1205H","departure":"1206H","pass":null,"public_arrival":"1206","public_departure":"1206","platform":"1","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"TWCKNHM","tiploc_instance":null,"arrival":"1209H","departure":"1210H","pass":null,"public_arrival":"1210","public_departure":"1210","platform":"5","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WHTTONJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1213","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"FELTHMJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1213H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"FELTHAM","tiploc_instance":null,"arrival":"1215H","departure":"1216H","pass":null,"public_arrival":"1216","public_departure":"1216","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"STAINES","tiploc_instance":null,"arrival":"1222","departure":"1223","pass":null,"public_arrival":"1222","public_departure":"1223","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"EGHAM","tiploc_instance":null,"arrival":"1227","departure":"1227H","pass":null,"public_arrival":"1227","public_departure":"1227","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"VRGNWTR","tiploc_instance":null,"arrival":"1231","departure":"1231H","pass":null,"public_arrival":"1231","public_departure":"1231","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LNGCROS","tiploc_instance":null,"arrival":"1234H","departure":"1235","pass":null,"public_arrival":"1235","public_departure":"1235","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"SUNNGDL","tiploc_instance":null,"arrival":"1238","departure":"1238H","pass":null,"public_arrival":"1238","public_departure":"1238","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ASCOT","tiploc_instance":null,"arrival":"1242","departure":"1243","pass":null,"public_arrival":"1242","public_departure":"1243","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"MHERON","tiploc_instance":null,"arrival":"1246H","departure":"1247","pass":null,"public_arrival":"1247","public_departure":"1247","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BRACKNL","tiploc_instance":null,"arrival":"1249H","departure":"1250H","pass":null,"public_arrival":"1250","public_departure":"1250","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WOKNGHM","tiploc_instance":null,"arrival":"1256","departure":"1257","pass":null,"public_arrival":"1256","public_departure":"1257","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WINERSH","tiploc_instance":null,"arrival":"1300","departure":"1300H","pass":null,"public_arrival":"1300","public_departure":"1300","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WINETGL","tiploc_instance":null,"arrival":"1302","departure":"1302H","pass":null,"public_arrival":"1302","public_departure":"1302","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ERLY","tiploc_instance":null,"arrival":"1304H","departure":"1305","pass":null,"public_arrival":"1305","public_departure":"1305","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"RDNGSJN","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1308","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LT","record_identity":"LT","tiploc_code":"RDNG4AB","tiploc_instance":null,"arrival":"1310","public_arrival":"1311","platform":"4","path":null}]},"schedule_start_date":"2020-04-10","train_status":"1","transaction_type":"Create"}}
{"JsonScheduleV1":{"CIF_bank_holiday_running":null,"CIF_stp_indicator":"N","CIF_train_uid":"Q40444","applicable_timetable":"Y","atoc_code":"SW","new_schedule_segment":{"traction_class":"","uic_code":""},"schedule_days_runs":"0000100","schedule_end_date":"2020-04-10","schedule_segment":{"signalling_id":"2C29","CIF_train_category":"OO","CIF_headcode":"5543","CIF_course_indicator":1,"CIF_train_service_code":"24672104","CIF_business_sector":"??","CIF_power_type":"EMU","CIF_timing_load":null,"CIF_speed":"100","CIF_operating_characteristics":null,"CIF_train_class":"S","CIF_sleepers":null,"CIF_reservations":"S","CIF_connection_indicator":null,"CIF_catering_code":null,"CIF_service_branding":"","schedule_location":[{"location_type":"LO","record_identity":"LO","tiploc_code":"WATRLMN","tiploc_instance":null,"departure":"1120","public_departure":"1120","platform":"24","line":"WFL","engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"NINELMJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1124","public_arrival":null,"public_departure":null,"platform":null,"line":"WL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"QTRDBAT","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1125","public_arrival":null,"public_departure":null,"platform":"3","line":"WSL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CLPHMJW","tiploc_instance":null,"arrival":"1127","departure":"1128","pass":null,"public_arrival":"1127","public_departure":"1128","platform":"6","line":"SL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BARNES","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1132H","public_arrival":null,"public_departure":null,"platform":"4","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"RICHMND","tiploc_instance":null,"arrival":"1135H","departure":"1136H","pass":null,"public_arrival":"1136","public_departure":"1136","platform":"1","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"TWCKNHM","tiploc_instance":null,"arrival":"1139H","departure":"1140H","pass":null,"public_arrival":"1140","public_departure":"1140","platform":"5","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WHTTONJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1143","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"FELTHMJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1143H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"FELTHAM","tiploc_instance":null,"arrival":"1145H","departure":"1146H","pass":null,"public_arrival":"1146","public_departure":"1146","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"STAINES","tiploc_instance":null,"arrival":"1152","departure":"1153","pass":null,"public_arrival":"1152","public_departure":"1153","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"EGHAM","tiploc_instance":null,"arrival":"1157","departure":"1157H","pass":null,"public_arrival":"1157","public_departure":"1157","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"VRGNWTR","tiploc_instance":null,"arrival":"1201","departure":"1201H","pass":null,"public_arrival":"1201","public_departure":"1201","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LNGCROS","tiploc_instance":null,"arrival":"1204H","departure":"1205","pass":null,"public_arrival":"1205","public_departure":"1205","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"SUNNGDL","tiploc_instance":null,"arrival":"1208","departure":"1208H","pass":null,"public_arrival":"1208","public_departure":"1208","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ASCOT","tiploc_instance":null,"arrival":"1212","departure":"1213","pass":null,"public_arrival":"1212","public_departure":"1213","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"MHERON","tiploc_instance":null,"arrival":"1216H","departure":"1217","pass":null,"public_arrival":"1217","public_departure":"1217","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BRACKNL","tiploc_instance":null,"arrival":"1219H","departure":"1220H","pass":null,"public_arrival":"1220","public_departure":"1220","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WOKNGHM","tiploc_instance":null,"arrival":"1226","departure":"1227","pass":null,"public_arrival":"1226","public_departure":"1227","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WINERSH","tiploc_instance":null,"arrival":"1230","departure":"1230H","pass":null,"public_arrival":"1230","public_departure":"1230","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WINETGL","tiploc_instance":null,"arrival":"1232","departure":"1232H","pass":null,"public_arrival":"1232","public_departure":"1232","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ERLY","tiploc_instance":null,"arrival":"1234H","departure":"1235","pass":null,"public_arrival":"1235","public_departure":"1235","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"RDNGSJN","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1238","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LT","record_identity":"LT","tiploc_code":"RDNG4AB","tiploc_instance":null,"arrival":"1240","public_arrival":"1241","platform":"6","path":null}]},"schedule_start_date":"2020-04-10","train_status":"1","transaction_type":"Create"}}
{"JsonScheduleV1":{"CIF_bank_holiday_running":null,"CIF_stp_indicator":"N","CIF_train_uid":"Q40420","applicable_timetable":"Y","atoc_code":"SW","new_schedule_segment":{"traction_class":"","uic_code":""},"schedule_days_runs":"0000100","schedule_end_date":"2020-04-10","schedule_segment":{"signalling_id":"1A27","CIF_train_category":"XX","CIF_headcode":"5503","CIF_course_indicator":1,"CIF_train_service_code":"24632104","CIF_business_sector":"??","CIF_power_type":"EMU","CIF_timing_load":null,"CIF_speed":"100","CIF_operating_characteristics":null,"CIF_train_class":"B","CIF_sleepers":null,"CIF_reservations":"S","CIF_connection_indicator":null,"CIF_catering_code":null,"CIF_service_branding":"","schedule_location":[{"location_type":"LO","record_identity":"LO","tiploc_code":"WATRLMN","tiploc_instance":null,"departure":"1054","public_departure":"1054","platform":"12","line":"MFL","engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CLPHMJM","tiploc_instance":null,"arrival":"1100H","departure":"1101H","pass":null,"public_arrival":null,"public_departure":"1101","platform":"9","line":"FL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WDON","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1106","public_arrival":null,"public_departure":null,"platform":"7","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"NEWMLDN","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1108","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"SURBITN","tiploc_instance":null,"arrival":"1111","departure":"1112","pass":null,"public_arrival":"1111","public_departure":"1112","platform":"3","line":"SL","path":"FL","engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"HCRTJN","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1114","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WEYBDGE","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1118H","public_arrival":null,"public_departure":null,"platform":"3","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BYFLANH","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1119H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WBYFLET","tiploc_instance":null,"arrival":"1121","departure":"1122","pass":null,"public_arrival":"1121","public_departure":"1122","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":"2H","performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WOKING","tiploc_instance":null,"arrival":"1128H","departure":"1130H","pass":null,"public_arrival":"1129","public_departure":"1130","platform":"5","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WOKINGJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1131H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BRKWOOD","tiploc_instance":null,"arrival":"1135H","departure":"1136H","pass":null,"public_arrival":"1136","public_departure":"1136","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"PRBRITJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1139H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ASHVALE","tiploc_instance":null,"arrival":"1143H","departure":"1144H","pass":null,"public_arrival":"1144","public_departure":"1144","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ALDRSJN","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1146","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":"H","performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ALDRSHT","tiploc_instance":null,"arrival":"1149","departure":"1150","pass":null,"public_arrival":"1149","public_departure":"1150","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"FARNHAM","tiploc_instance":null,"arrival":"1155","departure":"1157","pass":null,"public_arrival":"1155","public_departure":"1157","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BNTEY","tiploc_instance":null,"arrival":"1202H","departure":"1203H","pass":null,"public_arrival":"1203","public_departure":"1203","platform":"1","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":"1"},{"location_type":"LT","record_identity":"LT","tiploc_code":"ALTON","tiploc_instance":null,"arrival":"1211","public_arrival":"1211","platform":"1","path":null}]},"schedule_start_date":"2020-04-10","train_status":"1","transaction_type":"Create"}}
{"JsonScheduleV1":{"CIF_bank_holiday_running":null,"CIF_stp_indicator":"N","CIF_train_uid":"Q40442","applicable_timetable":"Y","atoc_code":"SW","new_schedule_segment":{"traction_class":"","uic_code":""},"schedule_days_runs":"0000100","schedule_end_date":"2020-04-10","schedule_segment":{"signalling_id":"2C27","CIF_train_category":"OO","CIF_headcode":"5541","CIF_course_indicator":1,"CIF_train_service_code":"24672104","CIF_business_sector":"??","CIF_power_type":"EMU","CIF_timing_load":null,"CIF_speed":"100","CIF_operating_characteristics":null,"CIF_train_class":"S","CIF_sleepers":null,"CIF_reservations":"S","CIF_connection_indicator":null,"CIF_catering_code":null,"CIF_service_branding":"","schedule_location":[{"location_type":"LO","record_identity":"LO","tiploc_code":"WATRLMN","tiploc_instance":null,"departure":"1050","public_departure":"1050","platform":"24","line":"WFL","engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"NINELMJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1054","public_arrival":null,"public_departure":null,"platform":null,"line":"WL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"QTRDBAT","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1055","public_arrival":null,"public_departure":null,"platform":"3","line":"WSL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CLPHMJW","tiploc_instance":null,"arrival":"1057","departure":"1058","pass":null,"public_arrival":"1057","public_departure":"1058","platform":"6","line":"SL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BARNES","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1102H","public_arrival":null,"public_departure":null,"platform":"4","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"RICHMND","tiploc_instance":null,"arrival":"1105H","departure":"1106H","pass":null,"public_arrival":"1106","public_departure":"1106","platform":"1","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"TWCKNHM","tiploc_instance":null,"arrival":"1109H","departure":"1110H","pass":null,"public_arrival":"1110","public_departure":"1110","platform":"5","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WHTTONJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1113","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"FELTHMJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1113H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"FELTHAM","tiploc_instance":null,"arrival":"1115H","departure":"1116H","pass":null,"public_arrival":"1116","public_departure":"1116","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"STAINES","tiploc_instance":null,"arrival":"1122","departure":"1123","pass":null,"public_arrival":"1122","public_departure":"1123","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"EGHAM","tiploc_instance":null,"arrival":"1127","departure":"1127H","pass":null,"public_arrival":"1127","public_departure":"1127","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"VRGNWTR","tiploc_instance":null,"arrival":"1131","departure":"1131H","pass":null,"public_arrival":"1131","public_departure":"1131","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LNGCROS","tiploc_instance":null,"arrival":"1134H","departure":"1135","pass":null,"public_arrival":"1135","public_departure":"1135","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"SUNNGDL","tiploc_instance":null,"arrival":"1138","departure":"1138H","pass":null,"public_arrival":"1138","public_departure":"1138","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ASCOT","tiploc_instance":null,"arrival":"1142","departure":"1143","pass":null,"public_arrival":"1142","public_departure":"1143","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"MHERON","tiploc_instance":null,"arrival":"1146H","departure":"1147","pass":null,"public_arrival":"1147","public_departure":"1147","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BRACKNL","tiploc_instance":null,"arrival":"1149H","departure":"1150H","pass":null,"public_arrival":"1150","public_departure":"1150","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WOKNGHM","tiploc_instance":null,"arrival":"1156","departure":"1157","pass":null,"public_arrival":"1156","public_departure":"1157","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WINERSH","tiploc_instance":null,"arrival":"1200","departure":"1200H","pass":null,"public_arrival":"1200","public_departure":"1200","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WINETGL","tiploc_instance":null,"arrival":"1202","departure":"1202H","pass":null,"public_arrival":"1202","public_departure":"1202","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ERLY","tiploc_instance":null,"arrival":"1204H","departure":"1205","pass":null,"public_arrival":"1205","public_departure":"1205","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"RDNGSJN","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1208","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LT","record_identity":"LT","tiploc_code":"RDNG4AB","tiploc_instance":null,"arrival":"1210","public_arrival":"1211","platform":"5","path":null}]},"schedule_start_date":"2020-04-10","train_status":"1","transaction_type":"Create"}}
{"JsonScheduleV1":{"CIF_bank_holiday_running":null,"CIF_stp_indicator":"O","CIF_train_uid":"G65456","applicable_timetable":"Y","atoc_code":"SR","new_schedule_segment":{"traction_class":"","uic_code":""},"schedule_days_runs":"0000001","schedule_end_date":"2020-03-15","schedule_segment":{"signalling_id":"2P72","CIF_train_category":"OO","CIF_headcode":"","CIF_course_indicator":1,"CIF_train_service_code":"23576003","CIF_business_sector":"??","CIF_power_type":"EMU","CIF_timing_load":"385","CIF_speed":"100","CIF_operating_characteristics":null,"CIF_train_class":"S","CIF_sleepers":null,"CIF_reservations":null,"CIF_connection_indicator":null,"CIF_catering_code":null,"CIF_service_branding":"","schedule_location":[{"location_type":"LO","record_identity":"LO","tiploc_code":"EDINBUR","tiploc_instance":null,"departure":"1206","public_departure":"1206","platform":"8W","line":"W","engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"PRNCSTG","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1207","public_arrival":null,"public_departure":null,"platform":null,"line":"DS","path":null,"engineering_allowance":null,"pathing_allowance":"1","performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"HAYMRKT","tiploc_instance":null,"arrival":"1210","departure":"1211","pass":null,"public_arrival":"1210","public_departure":"1211","platform":"4","line":"DS","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"HAYMRWJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1212H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":"DS","engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"EDINPRK","tiploc_instance":null,"arrival":"1215","departure":"1215H","pass":null,"public_arrival":"1215","public_departure":"1215","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"NWBG","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1218H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WNCBROJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1221H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LNLTHGW","tiploc_instance":null,"arrival":"1225","departure":"1226","pass":null,"public_arrival":"1225","public_departure":"1226","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"POLMONT","tiploc_instance":null,"arrival":"1230","departure":"1230H","pass":null,"public_arrival":"1230","public_departure":"1230","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"GRNGMTJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1234","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"FALKRKG","tiploc_instance":null,"arrival":"1235","departure":"1236","pass":null,"public_arrival":"1235","public_departure":"1236","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CAMELON","tiploc_instance":null,"arrival":"1238H","departure":"1239","pass":null,"public_arrival":"1239","public_departure":"1239","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CRMRSEJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1239H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":"2","performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LARBERJ","tiploc_instance":null,"arrival":null,"departure":null,"pass":"1242H","public_arrival":null,"public_departure":null,"platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LARBERT","tiploc_instance":null,"arrival":"1243H","departure":"1244H","pass":null,"public_arrival":"1244","public_departure":"1244","platform":"2","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":"3","performance_allowance":null},{"location_type":"LT","record_identity":"LT","tiploc_code":"STIRLNG","tiploc_instance":null,"arrival":"1255","public_arrival":"1255","platform":"8","path":null}]},"schedule_start_date":"2020-03-15","train_status":"P","transaction_type":"Create"}}
{"JsonScheduleV1":{"CIF_bank_holiday_running":null,"CIF_stp_indicator":"O","CIF_train_uid":"W17673","applicable_timetable":"Y","atoc_code":"SW","new_schedule_segment":{"traction_class":"","uic_code":""},"schedule_days_runs":"1111100","schedule_end_date":"2020-05-01","schedule_segment":{"signalling_id":"2D30","CIF_train_category":"OO","CIF_headcode":"5276","CIF_course_indicator":1,"CIF_train_service_code":"24673705","CIF_business_sector":"??","CIF_power_type":"EMU","CIF_timing_load":null,"CIF_speed":"075","CIF_operating_characteristics":null,"CIF_train_class":"S","CIF_sleepers":null,"CIF_reservations":"S","CIF_connection_indicator":null,"CIF_catering_code":null,"CIF_service_branding":"","schedule_location":[{"location_type":"LO","record_identity":"LO","tiploc_code":"GUILDFD","tiploc_instance":null,"departure":"1058","public_departure":"1058","platform":"1","line":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LRDGFD","tiploc_instance":null,"arrival":"1101H","departure":"1102","pass":null,"public_arrival":"1102","public_departure":"1102","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CLANDON","tiploc_instance":null,"arrival":"1106H","departure":"1107","pass":null,"public_arrival":"1107","public_departure":"1107","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"HRSLEY","tiploc_instance":null,"arrival":"1111","departure":"1111H","pass":null,"public_arrival":"1111","public_departure":"1111","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"EFNGHMJ","tiploc_instance":null,"arrival":"1114","departure":"1115H","pass":null,"public_arrival":"1114","public_departure":"1115","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"BOOKHAM","tiploc_instance":null,"arrival":"1118","departure":"1118H","pass":null,"public_arrival":"1118","public_departure":"1118","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"LETHRHD","tiploc_instance":null,"arrival":"1123","departure":"1123H","pass":null,"public_arrival":"1123","public_departure":"1123","platform":"1","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ASHD","tiploc_instance":null,"arrival":"1126H","departure":"1127","pass":null,"public_arrival":"1127","public_departure":"1127","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"EPSM","tiploc_instance":null,"arrival":"1131","departure":"1134","pass":null,"public_arrival":"1131","public_departure":"1134","platform":"4","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"EWELW","tiploc_instance":null,"arrival":"1137","departure":"1137H","pass":null,"public_arrival":"1137","public_departure":"1137","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"STLEIGH","tiploc_instance":null,"arrival":"1139H","departure":"1140","pass":null,"public_arrival":"1140","public_departure":"1140","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WRCSTRP","tiploc_instance":null,"arrival":"1142H","departure":"1143","pass":null,"public_arrival":"1143","public_departure":"1143","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"MOTSPRP","tiploc_instance":null,"arrival":"1145","departure":"1145H","pass":null,"public_arrival":"1145","public_departure":"1145","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"RAYNSPK","tiploc_instance":null,"arrival":"1148H","departure":"1149H","pass":null,"public_arrival":"1149","public_departure":"1149","platform":null,"line":"SL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"WDON","tiploc_instance":null,"arrival":"1152H","departure":"1153H","pass":null,"public_arrival":"1153","public_departure":"1153","platform":"5","line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"ERLFLD","tiploc_instance":null,"arrival":"1156H","departure":"1157","pass":null,"public_arrival":"1157","public_departure":"1157","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"CLPHMJM","tiploc_instance":null,"arrival":"1200","departure":"1201","pass":null,"public_arrival":"1200","public_departure":"1201","platform":"10","line":"MSL","path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LI","record_identity":"LI","tiploc_code":"VAUXHLM","tiploc_instance":null,"arrival":"1205","departure":"1206","pass":null,"public_arrival":"1205","public_departure":"1206","platform":null,"line":null,"path":null,"engineering_allowance":null,"pathing_allowance":null,"performance_allowance":null},{"location_type":"LT","record_identity":"LT","tiploc_code":"WATRLMN","tiploc_instance":null,"arrival":"1210","public_arrival":"1210","platform":"3","path":null}]},"schedule_start_date":"2020-04-27","train_status":"P","transaction_type":"Create"}}
{"EOF":true}

STRING;
    }
}